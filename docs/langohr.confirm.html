<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>langohr.confirm documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Langohr</span> <span class="project-version">6.0.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>langohr</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>amqp091</span></div></div></li><li class="depth-3"><a href="langohr.amqp091.inspection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>inspection</span></div></a></li><li class="depth-2 branch"><a href="langohr.basic.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>basic</span></div></a></li><li class="depth-2 branch"><a href="langohr.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-2 branch current"><a href="langohr.confirm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>confirm</span></div></a></li><li class="depth-2 branch"><a href="langohr.consumers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>consumers</span></div></a></li><li class="depth-2 branch"><a href="langohr.conversion.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conversion</span></div></a></li><li class="depth-2 branch"><a href="langohr.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="langohr.exchange.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exchange</span></div></a></li><li class="depth-2 branch"><a href="langohr.http.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></a></li><li class="depth-2 branch"><a href="langohr.http2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http2</span></div></a></li><li class="depth-2 branch"><a href="langohr.queue.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>queue</span></div></a></li><li class="depth-2 branch"><a href="langohr.shutdown.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shutdown</span></div></a></li><li class="depth-2 branch"><a href="langohr.tx.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tx</span></div></a></li><li class="depth-2"><a href="langohr.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="langohr.confirm.html#var-add-listener"><div class="inner"><span>add-listener</span></div></a></li><li class="depth-1"><a href="langohr.confirm.html#var-listener"><div class="inner"><span>listener</span></div></a></li><li class="depth-1"><a href="langohr.confirm.html#var-select"><div class="inner"><span>select</span></div></a></li><li class="depth-1"><a href="langohr.confirm.html#var-wait-for-confirms"><div class="inner"><span>wait-for-confirms</span></div></a></li><li class="depth-1"><a href="langohr.confirm.html#var-wait-for-confirms-or-die"><div class="inner"><span>wait-for-confirms-or-die</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">langohr.confirm</h1><div class="doc"><pre class="plaintext">Functions that work with publisher confirms.

Relevant guides:

* <a href="http://clojurerabbitmq.info/articles/exchanges.html">http://clojurerabbitmq.info/articles/exchanges.html</a></pre></div><div class="public anchor" id="var-add-listener"><h3>add-listener</h3><div class="usage"><code>(add-listener channel cl)</code></div><div class="doc"><pre class="plaintext">Adds confirmations listener to given channel
</pre></div><div class="src-link"><a href="https://github.com/michaelklishin/langohr/blob/v6.0.0-SNAPSHOT/src/clojure/langohr/confirm.clj#L60">view source</a></div></div><div class="public anchor" id="var-listener"><h3>listener</h3><div class="usage"><code>(listener ack-handler nack-handler)</code></div><div class="doc"><pre class="plaintext">Instantiates and returns a new confirmations listener that handles basic.ack and basic.nack method deliveries
</pre></div><div class="src-link"><a href="https://github.com/michaelklishin/langohr/blob/v6.0.0-SNAPSHOT/src/clojure/langohr/confirm.clj#L50">view source</a></div></div><div class="public anchor" id="var-select"><h3>select</h3><div class="usage"><code>(select channel)</code><code>(select channel ack-handler nack-handler)</code></div><div class="doc"><pre class="plaintext">Activates publishing confirmations on given channel.
</pre></div><div class="src-link"><a href="https://github.com/michaelklishin/langohr/blob/v6.0.0-SNAPSHOT/src/clojure/langohr/confirm.clj#L67">view source</a></div></div><div class="public anchor" id="var-wait-for-confirms"><h3>wait-for-confirms</h3><div class="usage"><code>(wait-for-confirms channel)</code><code>(wait-for-confirms channel timeout)</code></div><div class="doc"><pre class="plaintext">Wait until all messages published since the last call have been
either ack'd or nack'd by the broker. Note, when called on a
non-Confirm channel, waitForConfirms throws an IllegalStateException.

Returns true if all messages were acked successfully,
false otherwise.</pre></div><div class="src-link"><a href="https://github.com/michaelklishin/langohr/blob/v6.0.0-SNAPSHOT/src/clojure/langohr/confirm.clj#L77">view source</a></div></div><div class="public anchor" id="var-wait-for-confirms-or-die"><h3>wait-for-confirms-or-die</h3><div class="usage"><code>(wait-for-confirms-or-die channel)</code><code>(wait-for-confirms-or-die channel timeout)</code></div><div class="doc"><pre class="plaintext">Wait until all messages published since the last call have been
either ack'd or nack'd by the broker. If any of the messages were
nack'd, waitForConfirmsOrDie will throw an IOException. When called on
a non-Confirm channel, it will throw an IllegalStateException.</pre></div><div class="src-link"><a href="https://github.com/michaelklishin/langohr/blob/v6.0.0-SNAPSHOT/src/clojure/langohr/confirm.clj#L89">view source</a></div></div></div></body></html>